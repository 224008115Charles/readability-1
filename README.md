# node-readability

Turn any web page into a clean view. It's based on arc90's readability project.

## Install

    npm install node-readability

## Requirements
* [node.js](http://nodejs.org/)
* [jsdom](https://github.com/tmpvar/jsdom)
* [fetch](https://github.com/andris9/fetch)

## Example

`readability.read(html [, options], callback)`

Where

  * **html** url or html code.
  * **options** is an optional options object
  * **callback** is the callback to run - `callback(error, read)`

Example

    var readability = require('./readability');

    // source file is iso-8859-15 but it is converted to utf-8 automatically
    readability.read('http://howtonode.org/really-simple-file-uploads', function(err, article) {
      console.log(article.getArticleContent());
    });

**NB** If the file has been marked with charset other than utf-8, it is converted automatically. Charsets such as GBK, GB2312 is also supported via icon.

## Options

Possible option values

 * **maxRedirects** how many redirects allowed, defaults to 10
 * **disableRedirects** set to true if redirects are not allowed, defaults to false
 * **headers** optional header fields, in the form of `{'Header-Field':'value'}`
 * **maxResponseLength** maximum allowed length for the file, the remainder is cut off. Defaults to `Infinity`
 * **method** defaults to GET
 * **payload** request body
 * **disableGzip** set to false, to disable content gzipping, needed for Node v0.5.9 which has buggy zlib
 * **cookies** an array of cookie definitions in the form of `['name=val']`
 * **cookieJar** for sharing cookies between requests, see below
 * **outputEncoding** 
 * **disableDecoding** set to true to disable automatic charset decoding to utf-8
 * **overrideCharset** set input encoding
 * **asyncDnsLoookup** use high performance asynchronous DNS resolution based on c-ares instead of a thread pool calling getaddrinfo(3)
 * **timeout** set a timeout in ms
 * **agent** pass-through http.request agent parameter

## article

Readability support lazy evaluation by passing `readResult` to the callback function.

### getContent()

Return the article content of the web page. Return `false` if failed.

### getTitle()

Return the article title of the web page.

### getHTML()

Return the original html of the web page.

### getDocument()

Return the document of the web page generated by jsdom.

## TODO

* Support more readability features
* Performance optimization

## License

This code is under the Apache License 2.0.  http://www.apache.org/licenses/LICENSE-2.0
